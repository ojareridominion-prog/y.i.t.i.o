<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Y.I.T.I.O</title>
    
    <!-- Telegram SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <!-- Swiper for vertical scrolling -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    
    <!-- Main Styles -->
    <style>
        :root { --bg: #000; --text: #fff; --bar: #1a1a1a; --accent: #ff4757; }
        body { margin:0; background:var(--bg); color:var(--text); font-family:system-ui; overflow:hidden; transition: 0.3s; }
        
        /* --- Layout Components --- */
        .top-bar { position:fixed; top:0; width:100%; height:56px; background:var(--bar); display:flex; align-items:center; z-index:1000; border-bottom:1px solid rgba(255,255,255,0.1); }
        .cat-bar { position:fixed; top:56px; width:100%; height:48px; background:var(--bar); overflow-x:auto; display:flex; align-items:center; gap:10px; padding:0 12px; z-index:900; scrollbar-width: none; }
        .cat-bar::-webkit-scrollbar { display: none; }
        
        .cat-btn { padding:6px 15px; border-radius:20px; background:#333; font-size:12px; white-space:nowrap; border:none; color:#fff; cursor:pointer; }
        .cat-btn.active { background:var(--accent); font-weight: bold; }

        .menu-panel { position:fixed; left:-100%; width:85%; height:100%; background:var(--bar); z-index:2000; transition:0.4s; padding-top:60px; box-shadow: 5px 0 15px rgba(0,0,0,0.5); }
        .menu-panel.open { left:0; }
        .menu-link { padding:15px 25px; border-bottom:1px solid rgba(255,255,255,0.05); display:block; text-decoration:none; color:var(--text); font-weight:500; }
        
        /* Video Container */
        #swiper { position:absolute; top:104px; bottom:0; width:100%; z-index:10; }
        .swiper-slide { position: relative; width: 100%; height: 100%; background: #000; }
        .video-container { width:100%; height:100%; position:relative; }
        .video-iframe { width:100%; height:100%; border:none; background:#000; }
        
        .platform-badge { position:absolute; top:15px; right:15px; padding:4px 10px; border-radius:12px; font-size:10px; font-weight:bold; background:rgba(0,0,0,0.7); z-index:20; }
        .youtube-badge { background:#ff0000; }
        .tiktok-badge { background:#000; }
        .instagram-badge { background: #833AB4; background: linear-gradient(45deg, #833AB4, #FD1D1D, #F77737); }
        
        .loading { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); color:#fff; }

        /* --- Theme Variations --- */
        .theme-dark { --bg: #000; --text: #fff; --bar: #1a1a1a; --accent: #ff4757; }
        .theme-blue { --bg: #001f3f; --text: #7FDBFF; --bar: #003366; --accent: #0074D9; }
        .theme-purple { --bg: #2d004d; --text: #d9b3ff; --bar: #3d0066; --accent: #9933ff; }
        .theme-green { --bg: #003300; --text: #66ff66; --bar: #004d00; --accent: #00cc44; }
        .theme-red { --bg: #330000; --text: #ff6666; --bar: #4d0000; --accent: #ff3333; }
        .theme-amber { --bg: #332100; --text: #ffcc00; --bar: #4d3000; --accent: #ffaa00; }

        /* Theme Selector */
        .theme-grid { display: flex; overflow-x: auto; gap: 15px; padding: 10px 25px; scrollbar-width: none; }
        .theme-circle { flex: 0 0 48px; width: 48px; height: 48px; border-radius: 50%; overflow: hidden; border: 2px solid rgba(255,255,255,.15); cursor: pointer; display: flex; flex-direction: column; }
        .theme-circle div { height: 50%; }

        /* Premium Box in Menu */
        .premium-box { margin: 15px; padding: 15px; background: linear-gradient(45deg, #ff4757, #ff6b81); border-radius: 12px; color: white; text-align: center; }
        .premium-btn-menu { background: white; color: #ff4757; border: none; padding: 8px 15px; border-radius: 20px; font-weight: bold; margin-top: 10px; cursor: pointer; }

        /* --- Native Ad Styles --- */
        .native-ad {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            z-index: 3000; width: 85%; max-width: 350px; padding: 20px;
            background: rgba(20, 20, 20, 0.95); border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 16px; box-shadow: 0 20px 50px rgba(0,0,0,0.9);
            display: flex; flex-direction: column; align-items: center; text-align: center; gap: 15px;
        }
        .native-ad img { width: 100%; height: 180px; object-fit: cover; border-radius: 12px; }
        .close-ad-btn { position: absolute; top: 10px; right: 10px; background: rgba(255, 255, 255, 0.2); border: none; color: white; width: 30px; height: 30px; border-radius: 50%; cursor: pointer; }
        
        /* --- Premium Modal --- */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85); z-index: 9999;
            display: flex; align-items: center; justify-content: center;
            opacity: 0; pointer-events: none; transition: opacity 0.3s ease;
        }
        .modal-overlay.active { opacity: 1; pointer-events: all; }
        
        .premium-card {
            background: linear-gradient(135deg, #1a1a1a, #2c3e50);
            padding: 30px; border-radius: 20px; text-align: center;
            width: 85%; max-width: 350px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5); border: 1px solid #444;
        }

        .price-tag { margin: 20px 0; font-size: 18px; }
        .new-price { color: #ffd700; font-weight: bold; display: block; font-size: 24px; margin-top: 5px; }
        .old-price { text-decoration: line-through; opacity: 0.5; font-size: 14px; }
        
        .premium-list { text-align: left; opacity: 0.9; margin: 20px 0; padding-left: 20px; }
        .premium-list li { margin-bottom: 8px; list-style: none; }
        .premium-list li::before { content: "‚≠ê "; }

        .btn-buy {
            background: #ffd700; color: #000; font-weight: bold; border: none;
            padding: 15px; width: 100%; border-radius: 12px; font-size: 16px;
            margin-top: 10px; cursor: pointer; box-shadow: 0 5px 15px rgba(255, 215, 0, 0.3);
        }
        .btn-close {
            background: transparent; color: #aaa; border: none;
            margin-top: 15px; cursor: pointer; text-decoration: underline;
        }
        .hidden { display: none !important; }
        
        /* Premium Indicator */
        #premiumIndicator {
            color: #ffd700;
            font-size: 20px;
            animation: pulse 2s infinite;
            display: none;
            margin-right: 10px;
        }
        
        @keyframes pulse {
            0% { opacity: 0.7; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.1); }
            100% { opacity: 0.7; transform: scale(1); }
        }
    </style>
</head>
<body>

    <!-- Top Navigation Bar -->
    <div class="top-bar">
        <button onclick="toggleMenu()" style="background:none; border:none; color:#fff; font-size:24px; padding:15px; cursor:pointer;">‚ò∞</button>
        <h2 style="flex:1; text-align:center; font-size:16px; margin:0;">Y.I.T.I.O</h2>
        <!-- Premium indicator -->
        <div id="premiumIndicator" style="display:none;">‚≠ê</div>
        <button onclick="toggleMute()" style="background:none; border:none; color:#fff; font-size:22px; padding:15px; cursor:pointer;">üîä</button>
    </div>

    <!-- Category Bar -->
    <div class="cat-bar" id="catBar"></div>

    <!-- Side Menu -->
    <div id="menuPanel" class="menu-panel">
        <a href="#" class="menu-link" onclick="toggleMenu()" style="color:var(--accent)">‚úï Close Menu</a>
        
        <div class="premium-box">
            <div style="font-weight: bold; font-size: 18px;">Y.I.T.I.O PREMIUM ‚≠ê</div>
            <div style="font-size: 11px; opacity: 0.9; margin-top: 5px;">Enjoy ad-free video streaming</div>
            <button class="premium-btn-menu" onclick="openPremium()">UPGRADE NOW</button>
        </div>
        
        <a href="#" class="menu-link" onclick="shareBot()">üîó Share Bot with Friends</a>
        <a href="https://t.me/yit_io" class="menu-link">üì¢ Join Official Channel</a> 
        <div style="padding:15px 25px 5px; font-size:12px; opacity:0.6;">SELECT THEME</div>
        <div class="theme-grid" id="themeGrid"></div>
    </div>

    <!-- Main Video Feed (Swiper) -->
    <div id="swiper" class="swiper"><div class="swiper-wrapper" id="feed"></div></div>
    
    <!-- Native Ad Overlay -->
    <div id="nativeAd" class="native-ad hidden" onclick="handleAdClick(event)">
        <button class="close-ad-btn" onclick="hideAd(event)">‚úï</button>
        <img id="adImage" src="" alt="Ad">
        <div class="ad-text">
            <div id="adTitle" class="ad-title" style="font-size: 18px; font-weight: bold;"></div>
            <div id="adSubtitle" class="ad-subtitle" style="opacity: 0.8; font-size: 14px;"></div>
        </div>
    </div>

    <!-- Premium Modal -->
    <div id="premiumModal" class="modal-overlay">
        <div class="premium-card">
            <h1>‚ú® Y.I.T.I.O Premium</h1>
            <div class="price-tag">
                <span class="old-price">200 Stars</span>
                <span class="new-price">149 Stars / 30 days</span>
            </div>
            <ul class="premium-list">
                <li>üö´ No ads</li>
                <li>üòÅ Support Y.I.T.I.O</li>
            </ul>
            
            <div style="background: rgba(255, 215, 0, 0.1); padding: 15px; border-radius: 10px; margin: 20px 0; text-align: center;">
                <p style="margin: 0; font-size: 14px; opacity: 0.9;">
                    üîí <b>Secure Payment via Telegram</b><br>
                    Clicking "Go Premium" will open Telegram chat<br>
                    where you can check your status and upgrade.
                </p>
            </div>
            
            <button id="btnBuy" class="btn-buy" onclick="goPremium()">
                Go Premium
            </button>
            
            <div style="margin: 15px 0; font-size: 12px; opacity: 0.7; text-align: center;">
                üí´ 100% Secure ‚Ä¢ Telegram Stars ‚Ä¢ 30-Day Access
            </div>
            
            <div style="margin-top: 15px; padding: 10px; background: rgba(255, 215, 0, 0.1); border-radius: 8px;">
                <p style="margin: 0; font-size: 12px; opacity: 0.8;">
                    <b>After purchasing:</b><br>
                    1. Complete payment in Telegram chat<br>
                    2. Return here and wait for confirmation<br>
                    3. Or use "Check Premium Status" button
                </p>
            </div>
            
            <button class="btn-close" onclick="closePremium()">
                Close
            </button>
            <p id="paymentStatus" style="font-size:12px; margin-top:10px; opacity:0.7;"></p>
        </div>
    </div>

    <!-- Main JavaScript Module -->
    <script type="module" src="script.js"></script>
</body>
  </html>
